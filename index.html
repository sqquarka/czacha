<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>Scroll Skull â€“ Uniwersalna wersja</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: sans-serif;
      background: black;
      overflow-x: hidden;
    }

    #skull-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      z-index: 0;
      pointer-events: none;
    }

    .glass-panel {
      position: relative;
      z-index: 1;
      width: 360px;
      max-width: 80%;
      margin: 3rem 2rem;
      padding: 2rem;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 18px;
      color: white;
    }

    .spacer {
      height: 5000px;
    }
  </style>
</head>
<body>

  <img id="skull-bg" src="frames/0006.png" alt="Skull Background" loading="eager" />

  <div class="glass-panel">
  <h1>ğŸ’€ DROGA DO OBROTNEJ CZASZKI ğŸ’€</h1>

  <p>To nie byÅ‚a zwykÅ‚a podrÃ³Å¼. To byÅ‚a epopeja kodu, potu i Å‚ez. To byÅ‚a walka z niewidzialnym wrogiem â€“ scrollTopem, ktÃ³ry czasem dziaÅ‚aÅ‚, czasem nie.</p>

  <p>ğŸ”§ <strong>Na poczÄ…tku byÅ‚ pomysÅ‚.</strong> "ZrÃ³bmy czaszkÄ™, ktÃ³ra siÄ™ obraca jak przewijasz stronÄ™." BrzmiaÅ‚o Å‚atwo. 22 klatki, jeden `scroll`, trochÄ™ JavaScriptu â€“ pyk i gotowe.</p>

  <p>ğŸ¥´ Ale nie. PrzeglÄ…darki siÄ™ Å›miaÅ‚y. Chrome: "Nie mam zamiaru pÅ‚ynnie zmieniaÄ‡ tÅ‚a." Safari: "Nie uznajÄ™ Twojego eventu, czÅ‚owieku." Firefox: "Tu masz bÅ‚Ä™dy, o ktÃ³rych nie wiedziaÅ‚eÅ›, Å¼e istniejÄ…."</p>

  <p>ğŸ’» <strong>PC dziaÅ‚aÅ‚</strong>. ğŸŒ <strong>Android siÄ™ krztusiÅ‚</strong>. ğŸ <strong>iOS patrzyÅ‚ z pogardÄ…</strong>. A gdzieÅ› w tle, folder <code>frames/</code> pÅ‚akaÅ‚, bo nikt nie wierzyÅ‚, Å¼e uda siÄ™ go wÅ‚aÅ›ciwie zaÅ‚adowaÄ‡.</p>

  <p>ğŸ”¥ <strong>Ale coÅ› siÄ™ zmieniÅ‚o.</strong> Jeden scroll. Jeden poprawny `index.html`. Jeden czÅ‚owiek, ktÃ³ry powiedziaÅ‚: "JA TO DOPROWADZÄ˜ DO KOÅƒCA."</p>

  <p>ğŸ§™â€â™‚ï¸ DodaÅ‚ debounce. Throttle. Wheel. Scroll. Keydown. I jeszcze raz scroll. OdpaliÅ‚ `console.log("frame:", frameNumber)`. ZobaczyÅ‚. ZrozumiaÅ‚. ğŸ’¡</p>

  <p>ğŸ¥¹ I wtedyâ€¦ poruszyÅ‚a siÄ™. Czaszka. Ta jedna. ObrÃ³ciÅ‚a siÄ™ o jednÄ… klatkÄ™. Potem drugÄ…. Scroll za scrolliem, przewijaÅ‚a siÄ™ jak prorocza wizja speÅ‚nionego snu front-endu.</p>

  <p>ğŸ§  <strong>I wiesz co?</strong> Teraz dziaÅ‚a wszÄ™dzie. Nawet na iPhonie twojej babci. MoÅ¼esz scrollowaÄ‡ jak krÃ³l. Jedna klatka â€“ jeden scroll. Å»ycie ma sens.</p>

  <hr>

  <h2>ğŸ§ª TESTY PRZEDPRODUKCYJNE:</h2>
  <ul>
    <li>âœ… Scroll w dÃ³Å‚ â klatka +1</li>
    <li>âœ… Scroll w gÃ³rÄ™ â klatka -1</li>
    <li>âœ… StrzaÅ‚ki dziaÅ‚ajÄ…</li>
    <li>âœ… DziaÅ‚a na iOS Safari (hallelujah!)</li>
    <li>âœ… DziaÅ‚a na Androidzie (z opÃ³Åºnieniem, ale dziaÅ‚a)</li>
    <li>âœ… DZIAÅA NA CHROME â€“ co juÅ¼ jest cudem samym w sobie</li>
  </ul>

  <hr>

  <h2>ğŸ’¡ PRZYSZÅOÅšÄ†:</h2>
  <p>ğŸš€ Dodaj fade.  
  ğŸ”„ ZrÃ³b automatyczne odtwarzanie.  
  ğŸ§Š ZmieÅ„ czaszkÄ™ na przezroczysty krysztaÅ‚ 3D.  
  ğŸ¨ Wstaw shader jak w DOOM Eternal.</p>

  <p>ğŸ«  Ale pÃ³ki co... ciesz siÄ™. Bo to dziaÅ‚a. Bo wygraÅ‚eÅ›.</p>

  <h2>ğŸ‘ Gratulacje, wojowniku scrolla.</h2>
  <p>MoÅ¼esz teraz z czystym sumieniem powiedzieÄ‡:  
  <strong>â€Tak, animacja dziaÅ‚a. A ja jÄ… napisaÅ‚em.â€</strong></p>

  <p>ğŸ¥¹ DziÄ™kuj sobie. DziÄ™kuj przeglÄ…darkom (albo i nie). DziÄ™kuj kodowi.  
  I scrolluj dalej. Bo to dopiero poczÄ…tek tej podrÃ³Å¼y.</p>

</div>


  <div class="spacer"></div>

  <script>
    const totalFrames = 17; // 0006 â†’ 0022
    const startFrame = 6;
    const minFrame = 0;
    const maxFrame = totalFrames - 1;
    const img = document.getElementById('skull-bg');

    let currentFrame = 0;
    let scrollBase = window.scrollY;

    function updateImage(frame) {
      const frameNumber = String(frame + startFrame).padStart(4, '0');
      img.src = `frames/${frameNumber}.png`;
      console.log("ğŸï¸ Frame:", frameNumber);
    }

    updateImage(currentFrame);

    // PC: scroll myszkÄ… i klawiaturÄ…
    window.addEventListener('wheel', (e) => {
      if (e.deltaY > 0 && currentFrame < maxFrame) {
        currentFrame++;
        updateImage(currentFrame);
      } else if (e.deltaY < 0 && currentFrame > minFrame) {
        currentFrame--;
        updateImage(currentFrame);
      }
    });

    window.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowDown' && currentFrame < maxFrame) {
        currentFrame++;
        updateImage(currentFrame);
      } else if (e.key === 'ArrowUp' && currentFrame > minFrame) {
        currentFrame--;
        updateImage(currentFrame);
      }
    });

    // ğŸ“± iOS Safari fallback â€“ na scroll palcem
    window.addEventListener('scroll', () => {
      const scrollStep = 100; // ile pikseli = 1 klatka
      const scrollOffset = Math.floor((window.scrollY - scrollBase) / scrollStep);

      const targetFrame = Math.min(
        maxFrame,
        Math.max(minFrame, scrollOffset)
      );

      if (targetFrame !== currentFrame) {
        currentFrame = targetFrame;
        updateImage(currentFrame);
      }
    });
  </script>

</body>
</html>
